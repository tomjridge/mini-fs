<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Fuse_nfs.html">
<link rel="next" href="Int_base_types.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Base_" rel="Chapter" href="Base_.html">
<link title="Bigarray_buffer" rel="Chapter" href="Bigarray_buffer.html">
<link title="Error_" rel="Chapter" href="Error_.html">
<link title="Error_types" rel="Chapter" href="Error_types.html">
<link title="Fuse_in_mem" rel="Chapter" href="Fuse_in_mem.html">
<link title="Fuse_" rel="Chapter" href="Fuse_.html">
<link title="Fuse_nfs" rel="Chapter" href="Fuse_nfs.html">
<link title="In_mem" rel="Chapter" href="In_mem.html">
<link title="Int_base_types" rel="Chapter" href="Int_base_types.html">
<link title="Msgs" rel="Chapter" href="Msgs.html">
<link title="Nfs_aux" rel="Chapter" href="Nfs_aux.html">
<link title="Nfs_client" rel="Chapter" href="Nfs_client.html">
<link title="Nfs_server" rel="Chapter" href="Nfs_server.html">
<link title="Ops_type_" rel="Chapter" href="Ops_type_.html">
<link title="Readdir'" rel="Chapter" href="Readdir'.html">
<link title="R_" rel="Chapter" href="R_.html">
<link title="Runtime_config" rel="Chapter" href="Runtime_config.html">
<link title="Stat_record" rel="Chapter" href="Stat_record.html">
<link title="Unix_ops" rel="Chapter" href="Unix_ops.html">
<link title="Unix_with_int_handles" rel="Chapter" href="Unix_with_int_handles.html"><title>In_mem</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Fuse_nfs.html" title="Fuse_nfs">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Int_base_types.html" title="Int_base_types">Next</a>
</div>
<h1>Module <a href="type_In_mem.html">In_mem</a></h1>

<pre><span class="keyword">module</span> In_mem: <code class="code">sig</code> <a href="In_mem.html">..</a> <code class="code">end</code></pre><hr width="100%">

<pre><span id="VALresolve"><span class="keyword">val</span> resolve</span> : <code class="type">monad_ops:'a Tjr_monad.Monad.monad_ops -><br>       fs_ops:('b, 'c, 'a) Tjr_path_resolution.fs_ops -><br>       follow_last_symlink:Tjr_path_resolution.follow_last_symlink -><br>       cwd:'c -><br>       string -><br>       ((('b, 'c) Tjr_path_resolution.simplified_result,<br>         [> `File_followed_by_slash_etc of<br>              'c Tjr_path_resolution.state * Tjr_path_resolution.comp_ * 'b<br>          | `Missing_slash_etc of Tjr_path_resolution.comp_ * 'c * string ])<br>        Pervasives.result, 'a)<br>       Tjr_monad.Monad.m</code></pre>
<pre><span id="VALtime"><span class="keyword">val</span> time</span> : <code class="type">unit -> float</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Mem_base_types.html">Mem_base_types</a>: <code class="type"><a href="Int_base_types.html">Int_base_types</a></code></pre>
<pre><span class="keyword">include</span> Mem_base_types</pre>

<pre><span class="keyword">module</span> <a href="In_mem.Fid.html">Fid</a>: <code class="code">sig</code> <a href="In_mem.Fid.html">..</a> <code class="code">end</code></pre>
<pre><span class="keyword">include</span> Fid</pre>

<pre><span class="keyword">module</span> <a href="In_mem.Did.html">Did</a>: <code class="code">sig</code> <a href="In_mem.Did.html">..</a> <code class="code">end</code></pre>
<pre><span class="keyword">include</span> Did</pre>

<pre><span class="keyword">module</span> <a href="In_mem.Map_fid.html">Map_fid</a>: <code class="type">Tjr_map.Make</code><code class="code">(</code><code class="code">sig</code></pre><div class="sig_block">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">fid</code> </pre>


<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">t -> t -> int</code></pre></div>
<pre><code class="code">end</code><code class="code">)</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Map_did.html">Map_did</a>: <code class="type">Tjr_map.Make</code><code class="code">(</code><code class="code">sig</code></pre><div class="sig_block">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">did</code> </pre>


<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">t -> t -> int</code></pre></div>
<pre><code class="code">end</code><code class="code">)</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Map_string.html">Map_string</a>: <code class="type">Tjr_map.Make</code><code class="code">(</code><code class="code">sig</code></pre><div class="sig_block">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">string</code> </pre>


<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">t -> t -> int</code></pre></div>
<pre><code class="code">end</code><code class="code">)</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Map_int.html">Map_int</a>: <code class="type">Tjr_map.Make</code><code class="code">(</code><code class="code">sig</code></pre><div class="sig_block">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">int</code> </pre>


<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">t -> t -> int</code></pre></div>
<pre><code class="code">end</code><code class="code">)</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Set_string.html">Set_string</a>: <code class="type">Tjr_set.Make</code><code class="code">(</code><code class="code">sig</code></pre><div class="sig_block">
<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">string</code> </pre>


<pre><span id="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type">t -> t -> int</code></pre></div>
<pre><code class="code">end</code><code class="code">)</code></pre>
<pre><span id="TYPEsymlink"><span class="keyword">type</span> <code class="type"></code>symlink</span> = <code class="type">string</code> </pre>


<pre><span id="VALsymlink_to_yojson"><span class="keyword">val</span> symlink_to_yojson</span> : <code class="type"><a href="In_mem.html#TYPEsymlink">symlink</a> -> Yojson.Safe.json</code></pre>
<pre><span id="VALsymlink_of_yojson"><span class="keyword">val</span> symlink_of_yojson</span> : <code class="type">Yojson.Safe.json -> <a href="In_mem.html#TYPEsymlink">symlink</a> Ppx_deriving_yojson_runtime.error_or</code></pre>
<pre><code><span id="TYPEdir_entry"><span class="keyword">type</span> <code class="type"></code>dir_entry</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_entry.Fid"><span class="constructor">Fid</span></span> <span class="keyword">of</span> <code class="type">fid</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_entry.Did"><span class="constructor">Did</span></span> <span class="keyword">of</span> <code class="type">did</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_entry.Symlink"><span class="constructor">Symlink</span></span> <span class="keyword">of</span> <code class="type"><a href="In_mem.html#TYPEsymlink">symlink</a></code></code></td>

</tr></table>



<pre><span id="VALdir_entry_to_yojson"><span class="keyword">val</span> dir_entry_to_yojson</span> : <code class="type"><a href="In_mem.html#TYPEdir_entry">dir_entry</a> -> Yojson.Safe.json</code></pre>
<pre><span id="VALdir_entry_of_yojson"><span class="keyword">val</span> dir_entry_of_yojson</span> : <code class="type">Yojson.Safe.json -> <a href="In_mem.html#TYPEdir_entry">dir_entry</a> Ppx_deriving_yojson_runtime.error_or</code></pre>
<pre><span id="TYPEname_map_carrier"><span class="keyword">type</span> <code class="type"></code>name_map_carrier</span> = <code class="type"><a href="In_mem.html#TYPEdir_entry">dir_entry</a> Map_string.Map_.t</code> </pre>


<pre><span id="TYPEnm_ops"><span class="keyword">type</span> <code class="type"></code>nm_ops</span> = <code class="type">(string, <a href="In_mem.html#TYPEdir_entry">dir_entry</a>, <a href="In_mem.html#TYPEname_map_carrier">name_map_carrier</a>) Tjr_map.map_ops</code> </pre>


<pre><span id="VALnm_ops"><span class="keyword">val</span> nm_ops</span> : <code class="type">(Map_string.Map_.key, 'a, 'a Map_string.Map_.t) Tjr_map.map_ops</code></pre>
<pre><span id="VALmk_meta"><span class="keyword">val</span> mk_meta</span> : <code class="type">unit -> Base_.meta</code></pre>
<pre><code><span id="TYPEdir_with_parent"><span class="keyword">type</span> <code class="type"></code>dir_with_parent</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_with_parent.name_map">name_map</span>&nbsp;: <code class="type"><a href="In_mem.html#TYPEname_map_carrier">name_map_carrier</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_with_parent.meta">meta</span>&nbsp;: <code class="type">Base_.meta</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdir_with_parent.parent">parent</span>&nbsp;: <code class="type">did</code>;</code></td>

</tr></table>
}



<pre><code><span id="TYPEfile_meta_and_data"><span class="keyword">type</span> <code class="type"></code>file_meta_and_data</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfile_meta_and_data.meta">meta</span>&nbsp;: <code class="type">Base_.meta</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfile_meta_and_data.data">data</span>&nbsp;: <code class="type">Tjr_buffer.buf</code>;</code></td>

</tr></table>
}



<pre><span id="VALcontents_ops"><span class="keyword">val</span> contents_ops</span> : <code class="type">Tjr_buffer.buf Tjr_buffer.buf_ops</code></pre>
<pre><span id="TYPEfiles_carrier"><span class="keyword">type</span> <code class="type"></code>files_carrier</span> = <code class="type"><a href="In_mem.html#TYPEfile_meta_and_data">file_meta_and_data</a> Map_fid.Map_.t</code> </pre>


<pre><span id="TYPEfiles_ops"><span class="keyword">type</span> <code class="type"></code>files_ops</span> = <code class="type">(fid, <a href="In_mem.html#TYPEfile_meta_and_data">file_meta_and_data</a>, <a href="In_mem.html#TYPEfiles_carrier">files_carrier</a>) Tjr_map.map_ops</code> </pre>


<pre><span id="VALfiles_ops"><span class="keyword">val</span> files_ops</span> : <code class="type"><a href="In_mem.html#TYPEfiles_ops">files_ops</a></code></pre>
<pre><span id="TYPEdirs_carrier"><span class="keyword">type</span> <code class="type"></code>dirs_carrier</span> = <code class="type"><a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a> Map_did.Map_.t</code> </pre>


<pre><span id="TYPEdirs_ops"><span class="keyword">type</span> <code class="type"></code>dirs_ops</span> = <code class="type">(did, <a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a>, <a href="In_mem.html#TYPEdirs_carrier">dirs_carrier</a>) Tjr_map.map_ops</code> </pre>


<pre><span id="VALdirs_ops"><span class="keyword">val</span> dirs_ops</span> : <code class="type"><a href="In_mem.html#TYPEdirs_ops">dirs_ops</a></code></pre>
<pre><span id="TYPEdhandles_carrier"><span class="keyword">type</span> <code class="type"></code>dhandles_carrier</span> = <code class="type">string list Map_int.Map_.t</code> </pre>


<pre><span id="TYPEdhandles_ops"><span class="keyword">type</span> <code class="type"></code>dhandles_ops</span> = <code class="type">(dh, string list, <a href="In_mem.html#TYPEdhandles_carrier">dhandles_carrier</a>) Tjr_map.map_ops</code> </pre>


<pre><span id="VALdhandles_ops"><span class="keyword">val</span> dhandles_ops</span> : <code class="type"><a href="In_mem.html#TYPEdhandles_ops">dhandles_ops</a></code></pre>
<pre><code><span id="TYPEfs_t"><span class="keyword">type</span> <code class="type"></code>fs_t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.files">files</span>&nbsp;: <code class="type"><a href="In_mem.html#TYPEfiles_carrier">files_carrier</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.max_fid">max_fid</span>&nbsp;: <code class="type">fid</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.dirs">dirs</span>&nbsp;: <code class="type"><a href="In_mem.html#TYPEdirs_carrier">dirs_carrier</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.max_did">max_did</span>&nbsp;: <code class="type">did</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.dir_handles">dir_handles</span>&nbsp;: <code class="type"><a href="In_mem.html#TYPEdhandles_carrier">dhandles_carrier</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTfs_t.max_dh">max_dh</span>&nbsp;: <code class="type">dh</code>;</code></td>

</tr></table>
}



<pre><span id="VALlookup_did"><span class="keyword">val</span> lookup_did</span> : <code class="type">Map_did.Map_.key -> <a href="In_mem.html#TYPEfs_t">fs_t</a> -> <a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a> option</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Fs_t_to_json.html">Fs_t_to_json</a>: <code class="code">sig</code> <a href="In_mem.Fs_t_to_json.html">..</a> <code class="code">end</code></pre>
<pre><span id="VALfs_to_json"><span class="keyword">val</span> fs_to_json</span> : <code class="type"><a href="In_mem.html#TYPEfs_t">fs_t</a> -> string</code></pre>
<pre><span id="VALempty_dir"><span class="keyword">val</span> empty_dir</span> : <code class="type">parent:did -> meta:Base_.meta -> <a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a></code></pre>
<pre><span id="VALinit_fs"><span class="keyword">val</span> init_fs</span> : <code class="type"><a href="In_mem.html#TYPEfs_t">fs_t</a></code></pre>
<pre><span id="TYPEpath"><span class="keyword">type</span> <code class="type"></code>path</span> = <code class="type">string</code> </pre>


<pre><span id="VALis_fid"><span class="keyword">val</span> is_fid</span> : <code class="type"><a href="In_mem.html#TYPEdir_entry">dir_entry</a> -> bool</code></pre>
<pre><span id="VALis_did"><span class="keyword">val</span> is_did</span> : <code class="type"><a href="In_mem.html#TYPEdir_entry">dir_entry</a> -> bool</code></pre>
<pre><span id="VALis_symlink"><span class="keyword">val</span> is_symlink</span> : <code class="type">'a -> <a href="In_mem.html#TYPEdir_entry">dir_entry</a> -> bool</code></pre>
<pre><code><span id="TYPEextra_ops"><span class="keyword">type</span> <code class="type">'t</code> extra_ops</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.new_did">new_did</span>&nbsp;: <code class="type">unit -> (did, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.new_fid">new_fid</span>&nbsp;: <code class="type">unit -> (fid, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.with_fs">with_fs</span>&nbsp;: <code class="type">'a. (<a href="In_mem.html#TYPEfs_t">fs_t</a> -> 'a * <a href="In_mem.html#TYPEfs_t">fs_t</a>) -> ('a, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.internal_err">internal_err</span>&nbsp;: <code class="type">'a. string -> ('a, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.dirs_add">dirs_add</span>&nbsp;: <code class="type">did -> <a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a> -> (unit, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTextra_ops.is_ancestor">is_ancestor</span>&nbsp;: <code class="type">parent:did -> child:<a href="In_mem.html#TYPEdir_with_parent">dir_with_parent</a> -> (bool, 't) Tjr_monad.Monad.m</code>;</code></td>

</tr></table>
}



<pre><span id="VALmk_ops"><span class="keyword">val</span> mk_ops</span> : <code class="type">monad_ops:'a Tjr_monad.Monad.monad_ops -><br>       extra_core:'a <a href="In_mem.Extra_core.html#TYPEt">Extra_core.t</a> -> (fid, dh, 'a) Ops_type_.ops</code></pre>
<pre><code><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.internal_error_state">internal_error_state</span>&nbsp;: <code class="type">string option</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.fs">fs</span>&nbsp;: <code class="type"><a href="In_mem.html#TYPEfs_t">fs_t</a></code>;</code></td>

</tr></table>
}



<pre><span id="VALinit_t"><span class="keyword">val</span> init_t</span> : <code class="type"><a href="In_mem.html#TYPEt">t</a></code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Y_.html">Y_</a>: <code class="code">sig</code> <a href="In_mem.Y_.html">..</a> <code class="code">end</code></pre>
<pre><span id="VALt_to_string"><span class="keyword">val</span> t_to_string</span> : <code class="type"><a href="In_mem.html#TYPEt">t</a> -> string</code></pre>
<pre><span class="keyword">module</span> <a href="In_mem.Extra_core.html">Extra_core</a>: <code class="code">sig</code> <a href="In_mem.Extra_core.html">..</a> <code class="code">end</code></pre>
<pre><span id="VALmk_extra_ops"><span class="keyword">val</span> mk_extra_ops</span> : <code class="type">monad_ops:'t Tjr_monad.Monad.monad_ops -><br>       extra_core:'t <a href="In_mem.Extra_core.html#TYPEt">Extra_core.t</a> -> 't <a href="In_mem.html#TYPEextra_ops">extra_ops</a></code></pre>
<pre><span id="VALmk_ops"><span class="keyword">val</span> mk_ops</span> : <code class="type">monad_ops:'a Tjr_monad.Monad.monad_ops -><br>       extra_core:'a <a href="In_mem.Extra_core.html#TYPEt">Extra_core.t</a> -> (fid, dh, 'a) Ops_type_.ops</code></pre>
<pre><span id="VALin_mem_monad_ops"><span class="keyword">val</span> in_mem_monad_ops</span> : <code class="type"><a href="In_mem.html#TYPEt">t</a> Tjr_monad.state_passing Tjr_monad.Monad.monad_ops</code></pre>
<pre><span id="VALin_mem_state_passing_ops"><span class="keyword">val</span> in_mem_state_passing_ops</span> : <code class="type">(fid, dh, <a href="In_mem.html#TYPEt">t</a> Tjr_monad.state_passing) Ops_type_.ops</code></pre></body></html>